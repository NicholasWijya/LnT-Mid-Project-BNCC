import java.util.ArrayList;
import java.util.Random;
import java.util.Scanner;

public class MainChipiChapa {

	Scanner scan = new Scanner(System.in);
	Random rand = new Random();
	ArrayList<PT_ChipiChapa> arrChipiChapa = new ArrayList<PT_ChipiChapa>();

	void menu() {
		System.out.println("PT ChipiChapa");
		System.out.println("================");
		System.out.println("1. insert data karyawan");
		System.out.println("2. view data karyawan");
		System.out.println("3. update data karyawan");
		System.out.println("4. delete data karyawan");

	}

	public String id() {
		char firstChar = (char) (rand.nextInt(26) + 'A');
		char secondChar = (char) (rand.nextInt(26) + 'A');
		String randNumber = String.format("%04d", rand.nextInt(10000));
		String result = String.valueOf(firstChar) + String.valueOf(secondChar) + "-" + randNumber;

		return result;
	}

	boolean kodeUnik(String kode) {
		for (int i = 0; i < arrChipiChapa.size(); i++) {
			if (arrChipiChapa.get(i).kode.equals(kode)) {
				return false;
			}
		}
		return true;
	}

	boolean alfabet(String nama) {
		boolean checkNotAlfabet = false;
		for (int i = 0; i < nama.length(); i++) {
			if (Character.isLetter(nama.charAt(i)) == false) {
				checkNotAlfabet = true;
			}
		}
		if (checkNotAlfabet == true) {
			return false;
		} else {
			return true;
		}
	}

	void sorting() {
		for (int i = 0; i < arrChipiChapa.size(); i++) {
			for (int j = 0; j < arrChipiChapa.size() - i - 1; j++) {

				String firstName = arrChipiChapa.get(j).nama;
				String secondName = arrChipiChapa.get(j + 1).nama;

				if (firstName.compareTo(secondName) > 0) {
					PT_ChipiChapa temp = arrChipiChapa.get(j);
					arrChipiChapa.set(j, arrChipiChapa.get(j + 1));
					arrChipiChapa.set(j + 1, temp);
				}
			}
		}
	}

	void insert() {
		String kode;
		while (true) {
			kode = id();
			if (kodeUnik(kode) == true) {
				break;
			}
		}

		String nama;
		while (true) {
			System.out.println("Input nama karyawan [>=3]: ");
			nama = scan.nextLine();
			if (alfabet(nama) == true && nama.length() >= 3) {
				break;
			}
		}

		String jenisKelamin;
		while (true) {
			System.out.println("Input jenis kelamin [Laki-laki | Perempuan]: ");
			jenisKelamin = scan.nextLine();
			if (jenisKelamin.equals("Laki-laki")) {
				break;
			} else if (jenisKelamin.equals("Perempuan")) {
				break;
			}

		}

		String jabatan;
		Integer gaji;
		while (true) {
			System.out.println("Input jabatan [Manager | Supervisor | Admin]: ");
			jabatan = scan.nextLine();
			if (jabatan.equals("Manager")) {
				gaji = 8000000;
				break;
			} else if (jabatan.equals("Supervisor")) {
				gaji = 6000000;
				break;
			} else if (jabatan.equals("Admin")) {
				gaji = 4000000;
				break;
			}
		}

		System.out.println("Berhasil menambahkan karyawan dengan id " + kode);
		System.out.println("Enter to return");
		scan.nextLine();

		PT_ChipiChapa ptChipi = new PT_ChipiChapa(kode, nama, jenisKelamin, jabatan, gaji);
		arrChipiChapa.add(ptChipi);
	}

	void view() {
		if (arrChipiChapa.isEmpty()) {
			System.out.println("Tidak ada data karyawan");
		} else {
			sorting();
			System.out.printf("%-10s%-15s%-15s%-15s%-15s%-15s\n", "No", "Kode Karyawan", "Nama Karyawan",
					"Jenis Kelamin", "Jabatan", "Gaji Karyawan");
			for (int i = 0; i < arrChipiChapa.size(); i++) {
				System.out.printf("%-10s%-15s%-15s%-15s%-15s%-15d\n", i + 1, arrChipiChapa.get(i).kode,
						arrChipiChapa.get(i).nama, arrChipiChapa.get(i).jenisKelamin, arrChipiChapa.get(i).jabatan,
						arrChipiChapa.get(i).gaji);
			}
		}

	}

	void update() {

	}

	void delete() {

	}

	public MainChipiChapa() {
		while (true) {
			menu();
			System.out.print(">> ");
			int pilih = scan.nextInt();
			scan.nextLine();
			if (pilih == 1) {
				insert();
			} else if (pilih == 2) {
				view();
			} else if (pilih == 3) {
				update();
			} else if (pilih == 4) {
				delete();
			}
		}

	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		new MainChipiChapa();
	}

}
